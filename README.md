# Automated_original_drawing_tracing_for_animation
# 1．研究の目的と背景
　紙に描いた絵のクリーンアップは手間がかかる．特に，アニメーション制作の原画トレースは大きな負担となる作業である．線画抽出だけでは求めた線画を取得することは容易ではない．したがって，本研究ではアニメーションの原画トレースの自動化を最終目標に掲げ，第一段階として既存のクリーンアップ処理モデルに前処理，後処理を追加して改善を目指した．
# 2．外部状況
　[1]は深層学習を用いてラフスケッチから対話的に線画を作成でき，[2]はラフスケッチのクリーンアップ処理を行っているが，出力が不安定である．また，クリーンアップ処理に関する前処理，後処理の研究は見られない．
# 3．提案手法
　本研究では[2]の研究の出力を安定させるための前処理，後処理手法を提案する．
## 3.1. 前処理
　入力画像に二値フィルタ，メディアンフィルタを用いて前処理を行う．閾値やカーネルサイズは入力画像に対して最適化された値を利用する．
## 3.2.	後処理
　[2]の出力画像に対して前処理後の画像の線に対応するように線の座標を調整する．
# 4. 実験
## 4.1. 実験手法
　実験素材には3種類の大きさの12種類のイラストを使用して，[2]の出力，前処理を施した[2]の出力，前処理と後処理を施した[2]の出力の3種類の結果を取得した．提案手法の結果から手書きトレースとの類似性を確かめるために差分値を求め，前処理，後処理の有効性を確かめるために13人に対してアンケートを行った．また，前処理，後処理に要した時間も取得した．
## 4.2. 実験結果
　全ての画像で前処理を施した方が負の差分が減少していた．また，アンケートでは， 全ての問で前処理を施した[2]の出力が最も多く選択された．
 処理時間の分散・平均の上昇量について，前処理は小さく，後処理は大きい．
# 5. 考察
　負の差分の減少から[2]の出力単体よりも線の損失量が減少している．ただし，アンケートの結果から後処理の効果は小さいと見られる．また,処理時間の平均・分散から画像にサイズについて前処理は影響が小さく,後処理は大きいことがわかる.
# 6. まとめと今後の課題
　[2]のモデルに対応した前処理と後処理を提案し，[2]よりも良い結果となった．しかし，出力の不安定さ，精度に関して問題がまだ残っており，今後の課題に前処理の改善,より少ないストロークで画像生成するクリーンアップ処理モデルの作成を挙げる．
# 参考文献
[1] Edgar Simo-Serra, Satoshi Iizuka, Hiroshi Ishikawa: "Real-Time Data-Driven Interactive Rough Sketch Inking" ACM Trans. Graph. 37, 4, Article 98 (2018)
https://esslab.jp/~ess/ja/research/inking/

[2] Mo Haoran, Simo-Serra Edgar, Gao Chengying, Zou Changqing and Wang Ruomei: “General Virtual Sketching Framework for Vector Line” ArtACM Transactions on Graphics 40,4,51:1—51:14 (2021)
https://markmohr.github.io/virtual_sketching/
